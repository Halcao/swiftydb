<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>SwiftyDB by Oyvindkg</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href='//fonts.googleapis.com/css?family=Raleway:400,300,600' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name"><img src="resources/logo.png" alt="logo"/>SwiftyDB</h1>
      <h2 class="project-tagline">Making SQLite databases a blast</h2>
      <a href="https://github.com/Oyvindkg/swiftydb" class="btn">View on GitHub</a>
      <a href="https://github.com/Oyvindkg/swiftydb/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/Oyvindkg/swiftydb/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">

<p>There are many libraries out there that aims to help developers easily create and use SQLite databases. 
Unfortunately developers still have to get bogged down in simple tasks such as writing table definitions 
and SQL queries. SwiftyDB automatically handles everything you don't want to spend your time doing.</p>

<p><a href="https://travis-ci.org/%C3%98yvind%20Grimnes/SwiftyDB"><img src="http://img.shields.io/travis/%C3%98yvind%20Grimnes/SwiftyDB.svg?style=flat" alt="CI Status"></a>
<a href="http://cocoapods.org/pods/SwiftyDB"><img src="https://img.shields.io/cocoapods/v/SwiftyDB.svg?style=flat" alt="Version"></a>
<a href="http://cocoapods.org/pods/SwiftyDB"><img src="https://img.shields.io/cocoapods/l/SwiftyDB.svg?style=flat" alt="License"></a>
<a href="http://cocoapods.org/pods/SwiftyDB"><img src="https://img.shields.io/cocoapods/p/SwiftyDB.svg?style=flat" alt="Platform"></a></p>

<h3>
<a id="features" class="anchor" href="#features" aria-hidden="true"><span class="octicon octicon-link"></span></a>Features</h3>

<ul>
<li>Creates and updates databases, tables, and records automatically</li>
<li>Store any native Swift type</li>
<li>Supports optional types</li>
<li>Simple equality-based filtering</li>
<li>Thread safe database operations</li>
<!--<li>Complex filtering</li>
<li>Store nested objects</li>
<li>Store collections</li>-->
</ul>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h2>

<p>Almost pure plug and play. All you have to do is create an instance of SwiftyDB, and everything will be handled automagically behind the scenes <g-emoji alias="tophat" fallback-src="https://assets-cdn.github.com/images/icons/emoji/unicode/1f3a9.png">ðŸŽ©</g-emoji></p>

<div class="highlight highlight-source-swift"><pre><span class="pl-k">let</span> database <span class="pl-k">=</span> SwiftyDB(databaseName: <span class="pl-s"><span class="pl-pds">"</span>Dogtopia<span class="pl-pds">"</span></span>)</pre></div>

<p><strong>Add or update a record</strong></p>

<div class="highlight highlight-source-swift"><pre><span class="pl-k">try</span> database<span class="pl-k">.</span>addObject(dog, update: <span class="pl-c1">true</span>)
<span class="pl-k">try</span> database<span class="pl-k">.</span>addObjects(dogs, update: <span class="pl-c1">true</span>)</pre></div>

<p><strong>Retrieve data</strong></p>

<p>Retrieve data with datatypes matching those of the type's properties</p>

<div class="highlight highlight-source-swift"><pre><span class="pl-c">/* Array of dictionaries representing `Dog` objects from the database */</span>
database<span class="pl-k">.</span>dataForType(Dog<span class="pl-k">.</span><span class="pl-k">self</span>)
database<span class="pl-k">.</span>dataForType(Dog<span class="pl-k">.</span><span class="pl-k">self</span>, matchingFilters: [<span class="pl-s"><span class="pl-pds">"</span>id<span class="pl-pds">"</span></span>: <span class="pl-c1">1</span>])</pre></div>

<p>Dog data example</p>

<div class="highlight highlight-source-swift"><pre>[
    <span class="pl-s"><span class="pl-pds">"</span>id<span class="pl-pds">"</span></span>: <span class="pl-c1">1</span>,                <span class="pl-c">// As an Int</span>
    <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>Ghost<span class="pl-pds">"</span></span>,        <span class="pl-c">// As a String</span>
    <span class="pl-s"><span class="pl-pds">"</span>owner<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>John Snow<span class="pl-pds">"</span></span>,   <span class="pl-c">// As a String</span>
    <span class="pl-s"><span class="pl-pds">"</span>birth<span class="pl-pds">"</span></span>: August <span class="pl-c1">6</span>, <span class="pl-c1">1996</span> <span class="pl-c">// As an NSDate</span>
]</pre></div>

<p><strong>Delete records</strong></p>

<div class="highlight highlight-source-swift"><pre><span class="pl-k">try</span> database<span class="pl-k">.</span>deleteObjectsForType(Dog<span class="pl-k">.</span><span class="pl-k">self</span>)
<span class="pl-k">try</span> database<span class="pl-k">.</span>deleteObjectsForType(Dog<span class="pl-k">.</span><span class="pl-k">self</span>, matchingFilters: [<span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>Max<span class="pl-pds">"</span></span>])</pre></div>

<h3>
<a id="defining-your-classes" class="anchor" href="#defining-your-classes" aria-hidden="true"><span class="octicon octicon-link"></span></a>Defining your classes</h3>

<p>Let's use this simple <code>Dog</code> class as an example</p>

<div class="highlight highlight-source-swift"><pre><span class="pl-k">class</span> Dog {
    <span class="pl-k">var</span> id: <span class="pl-c1">Int</span>?
    <span class="pl-k">var</span> name: <span class="pl-c1">String</span>?
    <span class="pl-k">var</span> owner: <span class="pl-c1">String</span>?
    <span class="pl-k">var</span> birth: NSDate?
}</pre></div>

<p>All objects must conform to the <code>Storable</code> protocol.</p>

<div class="highlight highlight-source-swift"><pre><span class="pl-k">public</span> <span class="pl-k">protocol</span> Storable {
    <span class="pl-k">init</span>()
}</pre></div>

<p>By adding the <code>Storable</code> protocol and implementing <code>init()</code>, you are already ready to go.</p>

<div class="highlight highlight-source-swift"><pre><span class="pl-k">class</span> Dog: Storable {
    <span class="pl-k">var</span> id: <span class="pl-c1">Int</span>?
    <span class="pl-k">var</span> name: <span class="pl-c1">String</span>?
    <span class="pl-k">var</span> owner: <span class="pl-c1">String</span>?
    <span class="pl-k">var</span> birth: NSDate?

    <span class="pl-k">required</span> <span class="pl-k">init</span>() {}
}</pre></div>

<h5>
<a id="primary-keys" class="anchor" href="#primary-keys" aria-hidden="true"><span class="octicon octicon-link"></span></a>Primary keys</h5>

<p>It is recommended you can implement the <code>PrimaryKeys</code> protocol. The <code>primaryKeys()</code> method should return a set of property names which uniquely identifies an object.</p>

<div class="highlight highlight-source-swift"><pre><span class="pl-k">extension</span> Dog: PrimaryKeys {
    <span class="pl-k">class</span> <span class="pl-k">func</span> <span class="pl-en">primaryKeys</span>() <span class="pl-k">-&gt;</span> <span class="pl-c1">Set</span>&lt;<span class="pl-c1">String</span>&gt; {
        <span class="pl-k">return</span> [<span class="pl-s"><span class="pl-pds">"</span>id<span class="pl-pds">"</span></span>]
    }
}</pre></div>

<h5>
<a id="ignoring-properties" class="anchor" href="#ignoring-properties" aria-hidden="true"><span class="octicon octicon-link"></span></a>Ignoring properties</h5>

<p>If your class contains properties that you don't want in your database, you can implement the <code>IgnoredProperties</code> protocol.</p>

<div class="highlight highlight-source-swift"><pre><span class="pl-k">extension</span> Dog: IgnoredProperties {
    <span class="pl-k">class</span> <span class="pl-k">func</span> <span class="pl-en">ignoredProperties</span>() <span class="pl-k">-&gt;</span> <span class="pl-c1">Set</span>&lt;<span class="pl-c1">String</span>&gt; {
        <span class="pl-k">return</span> [<span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>]
    }
}</pre></div>

<blockquote>
<p>Properties with datatypes that are not part of the <code>SQLiteValue</code> protocol, as defined by <a href="https://github.com/Oyvindkg/tinysqlite/blob/master/Pod/Classes/DatabaseConnection.swift">TinySQLite</a>, will automatically be ignored by SwiftyDB</p>
</blockquote>

<h3>
<a id="retrieve-objects" class="anchor" href="#retrieve-objects" aria-hidden="true"><span class="octicon octicon-link"></span></a>Retrieve objects</h3>

<p>SwiftyDB can also retrieve complete objects with all properties assigned with data from the database. In order to achieve this, the type must be a subclass of <code>NSObject</code>, and all property types must be representable in in Objective-C. This is because pure Swift does not support dynamic, name-based assignment of properties. </p>

<p><strong>Dynamic property types</strong></p>

<ul>
<li><code>Int</code></li>
<li><code>UInt</code></li>
<li><code>Float</code></li>
<li><code>Double</code></li>
<li><code>Bool</code></li>
<li>
<code>String</code> / <code>String?</code>
</li>
<li>
<code>NSNumber</code> / <code>NSNumber?</code>
</li>
<li>
<code>NSString</code> / <code>NSString?</code>
</li>
<li>
<code>NSDate</code> / <code>NSDate?</code>
</li>
<li>
<code>NSData</code> / <code>NSData?</code>
</li>
</ul>

<h4>
<a id="defining-your-dynamic-classes" class="anchor" href="#defining-your-dynamic-classes" aria-hidden="true"><span class="octicon octicon-link"></span></a>Defining your dynamic classes</h4>

<p>Updated Dog class subclassing <code>NSObject</code>, and using valid property types:</p>

<div class="highlight highlight-source-swift"><pre><span class="pl-k">class</span> Dog: NSObject, Storable {
    <span class="pl-k">var</span> id: NSNumber? <span class="pl-c">// Notice that 'Int?' is not supported. Use NSNumber? instead</span>
    <span class="pl-k">var</span> name: <span class="pl-c1">String</span>?
    <span class="pl-k">var</span> owner: <span class="pl-c1">String</span>?
    <span class="pl-k">var</span> birth: NSDate?

    <span class="pl-k">override</span> <span class="pl-k">required</span> <span class="pl-k">init</span>() {
        <span class="pl-k">super</span><span class="pl-k">.</span><span class="pl-k">init</span>()
    }
}</pre></div>

<p><strong>Retrieve objects</strong></p>

<div class="highlight highlight-source-swift"><pre><span class="pl-c">/* Returns an array of Dog objects */</span>
<span class="pl-k">try</span> database<span class="pl-k">.</span>objectsForType(Dog<span class="pl-k">.</span><span class="pl-k">self</span>)
<span class="pl-k">try</span> database<span class="pl-k">.</span>objectsForType(Dog<span class="pl-k">.</span><span class="pl-k">self</span>, matchingFilters: [<span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>Max<span class="pl-pds">"</span></span>])</pre></div>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h2>

<p>SwiftyDB is available through <a href="http://cocoapods.org">CocoaPods</a>. To install
it, simply add the following line to your Podfile:</p>

<div class="highlight highlight-source-ruby"><pre>pod <span class="pl-s"><span class="pl-pds">"</span>SwiftyDB<span class="pl-pds">"</span></span></pre></div>

<h2>
<a id="author" class="anchor" href="#author" aria-hidden="true"><span class="octicon octicon-link"></span></a>Author</h2>

<p>Ã˜yvind Grimnes, <a href="mailto:oyvindkg@yahoo.com">oyvindkg@yahoo.com</a></p>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span class="octicon octicon-link"></span></a>License</h2>

<p>SwiftyDB is available under the MIT license. See the LICENSE file for more info.</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/Oyvindkg/swiftydb">SwiftyDB</a> is maintained by <a href="https://github.com/Oyvindkg">Oyvindkg</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
